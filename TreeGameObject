--// Orion Scanner UI
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/jensonhirst/Orion/main/source')))()

-- T·∫°o c·ª≠a s·ªï ch√≠nh
local Window = OrionLib:MakeWindow({
    Name = "Hakaishin Object Scanner",
    HidePremium = false,
    SaveConfig = false,
    ConfigFolder = "HakaiScanner"
})

-- T·∫°o Tab
local Tab = Window:MakeTab({
    Name = "Scanner",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Bi·∫øn l∆∞u k·∫øt qu·∫£ scan
local scanResult = ""

-- H√†m qu√©t object ƒë·ªá quy
local function scanObject(obj, depth)
    depth = depth or 0
    local indent = string.rep("  ", depth)
    local result = indent .. obj.Name .. " [" .. obj.ClassName .. "]"

    -- Th√™m ch√∫ th√≠ch n·∫øu ph√°t hi·ªán killer/survivor
    local lowerName = string.lower(obj.Name)
    if string.find(lowerName, "killer") then
        result = result .. "  -- killer object --"
    elseif string.find(lowerName, "survivor") then
        result = result .. "  -- survivor object --"
    end

    -- Qu√©t con
    for _, child in ipairs(obj:GetChildren()) do
        result = result .. "\n" .. scanObject(child, depth + 1)
        task.wait(0.01) -- tr√°nh spam lag
    end

    return result
end

-- N√∫t Scan
Tab:AddButton({
    Name = "üîé Scan Game",
    Callback = function()
        scanResult = ""
        local Services = {
            "Workspace","Players","ReplicatedStorage",
            "Lighting","StarterGui","StarterPack",
            "ServerStorage","ServerScriptService"
        }

        for _, serviceName in ipairs(Services) do
            local service = game:FindFirstChild(serviceName)
            if service then
                scanResult = scanResult .. "\n=== "..serviceName.." ===\n" .. scanObject(service) .. "\n"
            end
        end

        OrionLib:MakeNotification({
            Name = "Scan Finished",
            Content = "‚úÖ Data collected! B·∫•m Copy ƒë·ªÉ l·∫•y",
            Image = "rbxassetid://4483345998",
            Time = 5
        })
    end
})

-- N√∫t Copy
Tab:AddButton({
    Name = "üìã Copy Data",
    Callback = function()
        if scanResult == "" then
            OrionLib:MakeNotification({
                Name = "Error",
                Content = "‚ùå Ch∆∞a c√≥ d·ªØ li·ªáu! B·∫•m Scan tr∆∞·ªõc",
                Image = "rbxassetid://4483345998",
                Time = 5
            })
            return
        end

        if setclipboard then
            setclipboard(scanResult)
            OrionLib:MakeNotification({
                Name = "Copied!",
                Content = "‚úÖ Data ƒë√£ copy v√†o clipboard",
                Image = "rbxassetid://4483345998",
                Time = 5
            })
        else
            OrionLib:MakeNotification({
                Name = "Clipboard Unsupported",
                Content = "‚ùå Executor kh√¥ng h·ªó tr·ª£ setclipboard. Data ƒë√£ in ra console",
                Image = "rbxassetid://4483345998",
                Time = 5
            })
            print(scanResult)
        end
    end
})

-- Kh·ªüi t·∫°o Orion UI
OrionLib:Init()
